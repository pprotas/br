<!doctype html>
<html>

<head>
	<title>Bionic Readding</title>
</head>

<body>
	<textarea id="content"></textarea>
	<button onclick="onSubmit()">Submit</button>
	<div id="result"></div>
	<script>
		const onSubmit = async () => {
			const content = document.getElementById('content');
			const encodedParams = new URLSearchParams();
			encodedParams.append("content", content.value);
			encodedParams.append("response_type", "html");
			encodedParams.append("request_type", "html");
			encodedParams.append("fixation", "1");
			encodedParams.append("saccade", "10");

			const options = {
				method: 'POST',
				headers: {
					'content-type': 'application/x-www-form-urlencoded',
					'X-RapidAPI-Host': 'bionic-reading1.p.rapidapi.com',
					'X-RapidAPI-Key': 'dfe1ab3e3emshcc6de0e6ebfff22p1a7149jsncf255b6a2a57'
				},
				body: encodedParams
			};

			const result = document.getElementById('result');

			const response = await fetch('https://bionic-reading1.p.rapidapi.com/convert', options);
			const parser = new DOMParser();
			result.innerHTML = await response.text();
		}
	</script>
</body>

</html>
